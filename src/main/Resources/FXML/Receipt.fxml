<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<AnchorPane fx:id="Root"
            prefHeight="520.0" prefWidth="700.0"
            styleClass="receipt-root"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.ReceiptController">

    <stylesheets>
        <URL value="@/CSS/receipt.css"/>
        <!-- Optional: if you want to reuse your existing button styles too -->
        <!-- <URL value="@/CSS/alleviation.css"/> -->
    </stylesheets>

    <children>

        <!-- HEADER -->
        <AnchorPane prefHeight="78.0" prefWidth="700.0"
                    styleClass="receipt-header"
                    AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <children>
                <HBox layoutX="14.0" layoutY="10.0" spacing="12.0"
                      prefWidth="672.0" prefHeight="58.0"
                      alignment="CENTER_LEFT">

                    <children>
                        <ImageView fitHeight="44.0" fitWidth="44.0" preserveRatio="true">
                            <image>
                                <Image url="@/Pictures/MainPhoto.png"/>
                            </image>
                        </ImageView>

                        <VBox spacing="1.0">
                            <children>
                                <Label text="Receipt" styleClass="receipt-title"/>
                                <Label text="Order confirmation details" styleClass="receipt-subtitle"/>
                            </children>
                        </VBox>

                        <Region HBox.hgrow="ALWAYS"/>

                        <Button text="Close"
                                mnemonicParsing="false"
                                onAction="#handleClose"
                                prefWidth="90.0"
                                prefHeight="30.0"
                                styleClass="danger-btn"/>
                    </children>
                </HBox>
            </children>
        </AnchorPane>

        <!-- CONTENT -->
        <VBox spacing="14.0"
              styleClass="receipt-content"
              AnchorPane.leftAnchor="20" AnchorPane.rightAnchor="20"
              AnchorPane.topAnchor="95" AnchorPane.bottomAnchor="20">

            <!-- RECEIPT CARD -->
            <VBox spacing="12.0" styleClass="receipt-card">

                <!-- Top row: Order meta -->
                <HBox alignment="CENTER_LEFT">
                    <children>
                        <VBox spacing="2.0">
                            <children>
                                <Label text="Order Number" styleClass="meta-label"/>
                                <Label fx:id="orderNumberLabel" text="—" styleClass="meta-value"/>
                            </children>
                        </VBox>

                        <Region HBox.hgrow="ALWAYS"/>

                        <VBox spacing="2.0" alignment="CENTER_RIGHT">
                            <children>
                                <Label text="Date" styleClass="meta-label"/>
                                <Label fx:id="dateLabel" text="—" styleClass="meta-value"/>
                            </children>
                        </VBox>
                    </children>
                </HBox>

                <!-- Customer info -->
                <GridPane hgap="18" vgap="10" styleClass="info-grid">
                    <children>
                        <VBox GridPane.columnIndex="0" GridPane.rowIndex="0" spacing="2">
                            <children>
                                <Label text="Full Name" styleClass="info-label"/>
                                <Label fx:id="fullNameLabel" text="—" styleClass="info-value"/>
                            </children>
                        </VBox>

                        <VBox GridPane.columnIndex="1" GridPane.rowIndex="0" spacing="2">
                            <children>
                                <Label text="Email Address" styleClass="info-label"/>
                                <Label fx:id="emailLabel" text="—" styleClass="info-value"/>
                            </children>
                        </VBox>
                    </children>
                </GridPane>

                <!-- Items table -->
                <VBox spacing="8">
                    <children>
                        <Label text="Items" styleClass="section-title"/>

                        <TableView fx:id="itemsTable" prefHeight="200.0" styleClass="receipt-table">
                            <columns>
                                <TableColumn fx:id="colProduct" text="Product" prefWidth="280.0"/>
                                <TableColumn fx:id="colQty" text="Qty" prefWidth="60.0"/>
                                <TableColumn fx:id="colUnitPrice" text="Unit Price" prefWidth="110.0"/>
                                <TableColumn fx:id="colSubtotal" text="Subtotal" prefWidth="120.0"/>
                            </columns>
                        </TableView>
                    </children>
                </VBox>

                <!-- Notes + Totals -->
                <HBox spacing="18" alignment="TOP_LEFT">
                    <children>
                        <VBox spacing="6" HBox.hgrow="ALWAYS">
                            <children>
                                <Label text="Notes" styleClass="section-title"/>
                                <Label fx:id="notesLabel"
                                       text="—"
                                       wrapText="true"
                                       styleClass="notes-box"/>
                            </children>
                        </VBox>

                        <VBox spacing="8" prefWidth="220" styleClass="totals-box">
                            <children>
                                <HBox>
                                    <children>
                                        <Label text="Total" styleClass="total-label"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="totalLabel" text="—" styleClass="total-value"/>
                                    </children>
                                </HBox>

                                <Label text="Thank you for your purchase!" styleClass="thankyou"/>
                            </children>
                        </VBox>
                    </children>
                </HBox>

            </VBox>

            <!-- FOOTER BUTTONS -->
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <children>
                    <Button text="Back"
                            mnemonicParsing="false"
                            onAction="#handleBack"
                            prefWidth="90" prefHeight="34"
                            styleClass="mini-btn"/>

                    <Button text="Print"
                            mnemonicParsing="false"
                            onAction="#handlePrint"
                            prefWidth="90" prefHeight="34"
                            styleClass="secondary-btn"/>

                    <Button text="Done"
                            mnemonicParsing="false"
                            onAction="#handleClose"
                            prefWidth="120" prefHeight="38"
                            styleClass="primary-btn"/>
                </children>
            </HBox>

        </VBox>

    </children>
</AnchorPane>
