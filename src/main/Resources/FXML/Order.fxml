<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="600.0" prefWidth="900.0"
            style="-fx-background-color: #f1deff;"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.OrderController">

    <VBox alignment="CENTER" spacing="20"
          AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
          AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">

        <!-- Header Panel -->
        <HBox alignment="CENTER_LEFT" spacing="10"
              style="-fx-background-color: #D3D3FF; -fx-padding: 15; -fx-border-color: #c0c0e0; -fx-border-width: 0 0 1 0;"
              prefWidth="900">

            <ImageView fitHeight="48" fitWidth="48" preserveRatio="true">
                <image>
                    <Image url="@/Pictures/MainPhoto.png"/>
                </image>
            </ImageView>

            <Label text="Checkout"
                   style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />

            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="backButton"
                    text="Back"
                    onAction="#handleBack"
                    style="-fx-background-color: white; -fx-background-radius: 8; -fx-cursor: hand;"
                    prefHeight="34" prefWidth="90"/>
        </HBox>

        <!-- Main Panel -->
        <VBox alignment="TOP_CENTER" maxWidth="860" spacing="18"
              style="-fx-background-color: #D3D3FF; -fx-background-radius: 12; -fx-padding: 24;">

            <!-- Customer Row -->
            <HBox spacing="30" alignment="CENTER" prefWidth="820">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Full Name"
                           style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                    <Label fx:id="FirstandLast"
                           style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                </VBox>

                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Email Address"
                           style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                    <Label fx:id="EmailAddress"
                           style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                </VBox>
            </HBox>

            <!-- Items Table -->
            <VBox spacing="8" prefWidth="820">
                <Label text="Order Items"
                       style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />

                <TableView fx:id="itemsTable" prefHeight="240"
                           style="-fx-background-color: white; -fx-background-radius: 10;">
                    <columns>
                        <TableColumn fx:id="colProduct" text="Product" prefWidth="420"/>
                        <TableColumn fx:id="colQty" text="Qty" prefWidth="80"/>
                        <TableColumn fx:id="colUnit" text="Unit Price" prefWidth="140"/>
                        <TableColumn fx:id="colSubtotal" text="Subtotal" prefWidth="160"/>
                    </columns>
                </TableView>
            </VBox>

            <!-- Notes -->
            <VBox spacing="8" prefWidth="820">
                <Label text="Special Instructions"
                       style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                <TextArea fx:id="notesArea"
                          prefRowCount="3"
                          promptText="Any special requests or notes for your order..."
                          style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding: 10;"
                          wrapText="true" />
            </VBox>

            <!-- Bottom row: Total + Place Order -->
            <HBox alignment="CENTER_RIGHT" spacing="18" prefWidth="820">
                <Label text="Total:"
                       style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                <Label fx:id="totalLabel"
                       text="\$0.00"
                       style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />

                <Button fx:id="submitButton"
                        text="Place Order"
                        onAction="#handleSubmitOrder"
                        prefHeight="42" prefWidth="220"
                        style="-fx-background-color: #4a3a6b; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;" />
            </HBox>

        </VBox>

        <VBox.margin>
            <Insets left="20" right="20" bottom="20"/>
        </VBox.margin>

    </VBox>
</AnchorPane>
