<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="520.0" prefWidth="900.0"
            style="-fx-background-color: linear-gradient(to bottom, #F7EFFF, #EDE7FF);"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.ProductCheckController">

   <stylesheets>
      <URL value="@/CSS/alleviation.css"/>
   </stylesheets>

   <children>

      <!-- ===== HEADER ===== -->
      <AnchorPane prefHeight="72.0"
                  style="-fx-background-color: #D9D3FF;
                           -fx-border-color: rgba(0,0,0,0.08);
                           -fx-border-width: 0 0 1 0;"
                  AnchorPane.topAnchor="0.0"
                  AnchorPane.leftAnchor="0.0"
                  AnchorPane.rightAnchor="0.0">
         <children>
            <HBox spacing="10.0" alignment="CENTER_LEFT"
                  prefHeight="48.0"
                  AnchorPane.leftAnchor="16.0"
                  AnchorPane.rightAnchor="16.0"
                  AnchorPane.topAnchor="12.0">

               <children>
                  <Label text="Product Checker"
                         style="-fx-text-fill: #2D2353; -fx-font-weight: 900;">
                     <font>
                        <Font size="22.0"/>
                     </font>
                  </Label>

                  <Region HBox.hgrow="ALWAYS"/>
                  <Button fx:id="renameButton"
                          text="Rename Product"
                          mnemonicParsing="false"
                          onAction="#handleRename"
                          prefWidth="230.0"
                          prefHeight="40.0"
                          styleClass="secondary-btn"/>

                  <Button fx:id="refreshButton"
                          text="Refresh"
                          mnemonicParsing="false"
                          onAction="#handleRefresh"
                          prefHeight="30.0"
                          prefWidth="100.0"
                          styleClass="mini-btn"/>

                  <Button fx:id="backButton"
                          text="Go Back"
                          mnemonicParsing="false"
                          onAction="#handleGoBack"
                          prefHeight="30.0"
                          prefWidth="100.0"
                          styleClass="mini-btn"/>
               </children>
            </HBox>
         </children>
      </AnchorPane>

      <!-- ===== MAIN CONTENT ===== -->
      <HBox spacing="16.0"
            AnchorPane.topAnchor="92.0"
            AnchorPane.leftAnchor="18.0"
            AnchorPane.rightAnchor="18.0"
            AnchorPane.bottomAnchor="18.0">

         <!-- Table Card -->
         <VBox spacing="10" HBox.hgrow="ALWAYS"
               style="-fx-background-color: rgba(255,255,255,0.78);
                         -fx-background-radius: 18;
                         -fx-padding: 14;
                         -fx-border-color: rgba(0,0,0,0.06);
                         -fx-border-radius: 18;">
            <effect>
               <DropShadow radius="12" offsetY="4" color="rgba(0,0,0,0.12)"/>
            </effect>

            <children>
               <Label text="Inventory"
                      style="-fx-text-fill: #3A2B63; -fx-font-weight: 900;">
                  <font>
                     <Font size="16.0"/>
                  </font>
               </Label>

               <!-- Search bar -->
               <TextField fx:id="searchField"
                          promptText="Search by ID or Name..."
                          prefHeight="34.0"
                          style="-fx-background-radius: 12;
                                      -fx-border-radius: 12;
                                      -fx-border-color: rgba(58,43,99,0.20);
                                      -fx-background-color: white;
                                      -fx-padding: 0 10 0 10;" />

               <TableView fx:id="productTable" VBox.vgrow="ALWAYS">
                  <columns>
                     <TableColumn fx:id="colId" text="ID" prefWidth="170.0"/>
                     <TableColumn fx:id="colName" text="Name" prefWidth="260.0"/>
                     <TableColumn fx:id="colPrice" text="Price" prefWidth="90.0"/>
                     <TableColumn fx:id="colQty" text="Qty" prefWidth="70.0"/>
                     <TableColumn fx:id="colSales" text="Sales" prefWidth="80.0"/>
                  </columns>
               </TableView>

               <Label fx:id="statusLabel"
                      text=""
                      style="-fx-text-fill: #6B5A94; -fx-font-weight: 700;"/>
            </children>
         </VBox>

         <!-- Restock / Delete Card -->
         <VBox spacing="12" prefWidth="260.0"
               style="-fx-background-color: rgba(255,255,255,0.78);
                         -fx-background-radius: 18;
                         -fx-padding: 14;
                         -fx-border-color: rgba(0,0,0,0.06);
                         -fx-border-radius: 18;">
            <effect>
               <DropShadow radius="12" offsetY="4" color="rgba(0,0,0,0.12)"/>
            </effect>

            <children>
               <Label text="Manage Inventory"
                      style="-fx-text-fill: #3A2B63; -fx-font-weight: 900;">
                  <font>
                     <Font size="16.0"/>
                  </font>
               </Label>

               <Label text="Select a product"
                      style="-fx-text-fill: #6B5A94; -fx-font-weight: 700;"/>
               <ComboBox fx:id="productCombo" promptText="Choose product..." prefWidth="230.0"/>

               <Label text="Add quantity"
                      style="-fx-text-fill: #6B5A94; -fx-font-weight: 700;"/>
               <Spinner fx:id="restockSpinner" prefWidth="120.0"/>

               <Button fx:id="restockButton"
                       text="Add Stock"
                       mnemonicParsing="false"
                       onAction="#handleRestock"
                       prefWidth="230.0"
                       prefHeight="40.0"
                       styleClass="primary-btn"/>

               <Button fx:id="deleteButton"
                       text="Delete Product"
                       mnemonicParsing="false"
                       onAction="#handleDelete"
                       prefWidth="230.0"
                       prefHeight="40.0"
                       styleClass="danger-btn"/>

               <Label fx:id="actionLabel"
                      text=""
                      wrapText="true"
                      style="-fx-text-fill: #D6002B; -fx-font-weight: 700;"/>
            </children>
         </VBox>

      </HBox>

   </children>
</AnchorPane>
