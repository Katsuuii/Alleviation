<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="600.0" prefWidth="800.0" style="-fx-background-color: #f1deff;"
            xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.OrderController">

    <VBox alignment="CENTER" spacing="20" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0"
          AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

        <!-- Header Panel -->
        <HBox alignment="CENTER" spacing="10"
              style="-fx-background-color: #D3D3FF; -fx-padding: 15; -fx-border-color: #c0c0e0; -fx-border-width: 0 0 1 0;">
            <ImageView fx:id="logoImage" fitHeight="48" fitWidth="48" preserveRatio="true">
                <Image url="@../Pictures/MainPhoto.png" />
            </ImageView>
            <Label style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Order Form" />
        </HBox>

        <!-- Main Order Panel -->
        <VBox alignment="CENTER" maxWidth="748.0" prefHeight="534.0" prefWidth="748.0" spacing="20"
              style="-fx-background-color: #D3D3FF; -fx-background-radius: 12; -fx-padding: 30;">
            <padding>
                <Insets bottom="30" left="40" right="40" top="10" />
            </padding>

            <!-- Title Section -->
            <VBox alignment="CENTER" spacing="8">
                <Label style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Place Your Order" />
                <Label style="-fx-font-size: 14; -fx-text-fill: #6b6b8a;" text="Fill out the form below to complete your order" />
            </VBox>

            <!-- Name and Email Row -->
            <HBox alignment="CENTER" spacing="20">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Full Name" />
                    <Label fx:id="FirstandLast" style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                </VBox>

                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Email Address" />
                    <Label fx:id="EmailAddress" style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />
                </VBox>
            </HBox>

            <!-- Product Row -->
            <HBox alignment="CENTER" spacing="20">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <children>
                        <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Selected Product" />
                        <Label fx:id="Product" style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" />

                        <!-- âœ… Gift Card Picker (hidden unless gift card order) -->
                        <VBox fx:id="giftCardBox" alignment="TOP_LEFT" spacing="8" visible="false" managed="false">
                            <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Gift Card Type" />
                            <ComboBox fx:id="giftCardTypeCombo"
                                      prefWidth="220"
                                      promptText="Choose gift card..."
                                      style="-fx-background-color: white; -fx-background-radius: 8;" />

                            <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Gift Card Amount" />
                            <Spinner fx:id="giftAmountSpinner"
                                     prefWidth="160"
                                     style="-fx-background-color: white; -fx-background-radius: 8;" />
                        </VBox>

                    </children>
                </VBox>

                <VBox spacing="6" HBox.hgrow="ALWAYS" />
            </HBox>

            <!-- Quantity -->
            <VBox alignment="TOP_LEFT" spacing="6">
                <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Quantity" />
                <Spinner fx:id="quantitySpinner" prefWidth="120"
                         style="-fx-background-color: white; -fx-background-radius: 8;" />
            </VBox>

            <!-- Special Instructions -->
            <VBox alignment="TOP_LEFT" spacing="6">
                <Label style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #2d2d4a;" text="Special Instructions" />
                <TextArea fx:id="notesArea" prefRowCount="4"
                          promptText="Any special requests or notes for your order..."
                          style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding: 10;"
                          wrapText="true" />
            </VBox>

            <!-- Submit Button -->
            <Button fx:id="submitButton" onAction="#handleSubmitOrder" prefHeight="45" prefWidth="520"
                    style="-fx-background-color: #4a3a6b; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                    text="Place Order" />
        </VBox>
    </VBox>
</AnchorPane>
